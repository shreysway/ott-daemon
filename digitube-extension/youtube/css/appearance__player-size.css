/*-----------------------------------------------------------------------------
>>> APPEARANCE: PLAYER SIZE
-------------------------------------------------------------------------------
1.0 Variables
    1.1 Header size
        1.1.1 «Normal»
        1.1.2 «Hidden»
        1.1.3 «Hover»
    1.2 Player size
        1.2.1 «240p»
        1.2.2 «360p»
        1.2.3 «480p»
        1.2.4 «576p»
        1.2.5 «720p»
        1.2.6 «1080p»
        1.2.7 «1440p»
        1.2.8 «2160p»
        1.2.9 «Full window»
2.0 YouTube
-----------------------------------------------------------------------------*/





/*-----------------------------------------------------------------------------
1.0 Variables
-----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
1.1 Header size
-----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
1.1.1 «Normal»
-----------------------------------------------------------------------------*/

html[it-page-type="video"]:not([it-header-position]) ytd-app,
html[it-page-type="video"][it-header-position='normal'] ytd-app,
html[it-page-type="video"][it-header-position='static'] ytd-app
{
    --it-header-size: 56px;
}

html[it-page-type="video"]:not([it-header-position]) ytd-watch-flexy:not([theater]),
html[it-page-type="video"][it-header-position='normal'] ytd-watch-flexy:not([theater]),
html[it-page-type="video"][it-header-position='static'] ytd-watch-flexy:not([theater])
{
    --it-header-size: 104px;
}

html[it-page-type="video"]:not([it-header-position]) div#page,
html[it-page-type="video"][it-header-position='normal'] div#page,
html[it-page-type="video"][it-header-position='static'] div#page
{
    --it-header-size: 50px;
}

html[it-page-type="video"]:not([it-header-position]) div#page:not(.watch-wide),
html[it-page-type="video"][it-header-position='normal'] div#page:not(.watch-wide),
html[it-page-type="video"][it-header-position='static'] div#page:not(.watch-wide)
{
    --it-header-size: 70px;
}

/*-----------------------------------------------------------------------------
1.1.2 «Hidden»
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-header-position='hidden'],
html[it-page-type="video"][it-header-position='hidden_on_video_page']
{
    --it-header-size: 0px;
}

html[it-page-type="video"][it-header-position='hidden'] ytd-watch-flexy:not([theater]),
html[it-page-type="video"][it-header-position='hidden_on_video_page'] ytd-watch-flexy:not([theater])
{
    --it-header-size: 48px;
}

html[it-page-type="video"][it-header-position='hidden'] div#page,
html[it-page-type="video"][it-header-position='hidden_on_video_page'] div#page
{
    --it-header-size: 0px;
}

html[it-page-type="video"][it-header-position='hidden'] div#page:not(.watch-wide),
html[it-page-type="video"][it-header-position='hidden_on_video_page'] div#page:not(.watch-wide)
{
    --it-header-size: 20px;
}

/*-----------------------------------------------------------------------------
1.1.3 «Hover»
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-header-position='hover'],
html[it-page-type="video"][it-header-position='hover_on_video_page']
{
    --it-header-size: 14px;
}

html[it-page-type="video"][it-header-position='hover'] ytd-watch-flexy:not([theater]),
html[it-page-type="video"][it-header-position='hover_on_video_page'] ytd-watch-flexy:not([theater])
{
    --it-header-size: 62px;
}

html[it-page-type="video"][it-header-position='hover'] div#page,
html[it-page-type="video"][it-header-position='hover_on_video_page'] div#page
{
    --it-header-size: 12px;
}

html[it-page-type="video"][it-header-position='hover'] div#page:not(.watch-wide),
html[it-page-type="video"][it-header-position='hover_on_video_page'] div#page:not(.watch-wide)
{
    --it-header-size: 32px;
}

html[it-page-type="video"][it-header-position='hover'] ytd-app:not([player-fullscreen_]) ytd-watch-flexy:not([fullscreen]) #movie_player,
html[it-page-type="video"][it-header-position='hover_on_video_page'] ytd-app:not([player-fullscreen_]) ytd-watch-flexy:not([fullscreen]) #movie_player
{
    margin-top: 14px;
}

html[it-page-type="video"][it-header-position='hover'] div#page #movie_player:not(.improvedtube-mini-player):not(.ytp-fullscreen),
html[it-page-type="video"][it-header-position='hover_on_video_page'] div#page #movie_player:not(.improvedtube-mini-player):not(.ytp-fullscreen)
{
    margin-top: 12px;
}





html[it-page-type="video"][it-player-size='240p'] *,
html[it-page-type="video"][it-player-size='360p'] *,
html[it-page-type="video"][it-player-size='480p'] *,
html[it-page-type="video"][it-player-size='576p'] *,
html[it-page-type="video"][it-player-size='720p'] *,
html[it-page-type="video"][it-player-size='1080p'] *,
html[it-page-type="video"][it-player-size='1440p'] *,
html[it-page-type="video"][it-player-size='2160p'] *
{
    --it-header-size: 0px !important;
}





/*-----------------------------------------------------------------------------
1.2 Player size
-----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
1.2.1 «240p»
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-player-size='240p']
{
    --it-player-size: 240px;
}

/*-----------------------------------------------------------------------------
1.2.2 «360p»
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-player-size='360p']
{
    --it-player-size: 360px;
}

/*-----------------------------------------------------------------------------
1.2.3 «480p»
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-player-size='480p']
{
    --it-player-size: 480px;
}

/*-----------------------------------------------------------------------------
1.2.4 «576p»
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-player-size='576p']
{
    --it-player-size: 576px;
}

/*-----------------------------------------------------------------------------
1.2.5 «720p»
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-player-size='720p']
{
    --it-player-size: 720px;
}

/*-----------------------------------------------------------------------------
1.2.6 «1080p»
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-player-size='1080p']
{
    --it-player-size: 1080px;
}

/*-----------------------------------------------------------------------------
1.2.7 «1440p»
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-player-size='1440p']
{
    --it-player-size: 1440px;
}

/*-----------------------------------------------------------------------------
1.2.8 «2160p»
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-player-size='2160p']
{
    --it-player-size: 2160px;
}

/*-----------------------------------------------------------------------------
1.2.9 «Full window»
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-player-size='full_window']
{
    --it-player-size: 100vh;
}

html[it-page-type="video"][it-player-size='fit_to_window']
{
    --it-player-size: 100vh;
}





/*-----------------------------------------------------------------------------
2.0 YouTube
-----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
>>> PLAYER
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal']) ytd-app:not([player-fullscreen_]) ytd-watch-flexy:not([fullscreen]) #player-container-inner
{
    padding-top: calc(var(--it-player-size) - var(--it-header-size)) !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal']) ytd-app:not([player-fullscreen_]) ytd-watch-flexy:not([theater]):not([fullscreen]) #player-container,
html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal']) ytd-app:not([player-fullscreen_]) ytd-watch-flexy[theater]:not([fullscreen]) #player-theater-container
{
    width: auto !important;
    height: calc(var(--it-player-size) - var(--it-header-size)) !important;
    min-height: auto !important;
    max-height: 100vh !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal']) ytd-app:not([player-fullscreen_]) ytd-watch-flexy:not([fullscreen]) .html5-video-container
{
    position: absolute !important;

    display: flex !important;

    width: 100% !important;
    height: 100% !important;

    background: #000 !important;

    justify-content: center !important;
    align-items: center !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal']) ytd-app:not([player-fullscreen_]) ytd-watch-flexy:not([fullscreen]) .html5-video-player:not(.improvedtube-mini-player) video
{
    position: static !important;
    top: 0 !important;
    left: 0 !important;

    width: auto !important;
    max-width: 100% !important;
    height: calc(var(--it-player-size) - var(--it-header-size)) !important;
}


/*FIT TO WINDOW*/

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] ytd-app:not([player-fullscreen_]) ytd-watch-flexy:not([fullscreen]) #player-theater-container
{
    background: transparent !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] ytd-app:not([player-fullscreen_]) ytd-watch-flexy:not([fullscreen]) .html5-video-player:not(.improvedtube-mini-player)
{
    width: auto !important;
    overflow: visible !important;
    display: table !important;
    margin: auto !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] ytd-app:not([player-fullscreen_]) ytd-watch-flexy:not([fullscreen]) .html5-video-player:not(.improvedtube-mini-player) .ytp-chrome-bottom
{
    width: calc(100% - 24px) !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] ytd-app:not([player-fullscreen_]) ytd-watch-flexy:not([fullscreen]) .html5-video-player:not(.improvedtube-mini-player) .html5-video-container
{
    width: auto !important;
    position: static !important;
    display: inline-block !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] ytd-app:not([player-fullscreen_]) ytd-watch-flexy:not([fullscreen]) .html5-video-player:not(.improvedtube-mini-player) video
{
    position: static !important;
    width: auto !important;
    max-width: 100vw !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] ytd-app:not([player-fullscreen_]) ytd-watch-flexy:not([fullscreen]) .html5-video-player:not(.improvedtube-mini-player) .ytp-iv-video-content {
    pointer-events: none !important;
}





/*-----------------------------------------------------------------------------
>>> LEGACY PLAYER
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal']) div#page #player #player-api,
html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal']) div#page .player-height
{
    height: calc(var(--it-player-size) - var(--it-header-size)) !important;
    min-height: auto !important;
    max-height: 100vh !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal']):not([it-player-size='fit_to_window']) div#page.watch-wide #player #player-api
{
    left: 0 !important;

    width: 100% !important;
    margin: 0 !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal']) div#page .html5-video-player:not(.improvedtube-mini-player):not(.ytp-fullscreen) .html5-video-container
{
    position: absolute !important;

    display: flex !important;

    width: 100% !important;
    height: 100% !important;

    background: #000 !important;

    justify-content: center !important;
    align-items: center !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal']) div#page .html5-video-player:not(.improvedtube-mini-player):not(.ytp-fullscreen) video
{
    position: static !important;
    top: 0 !important;
    left: 0 !important;

    width: auto !important;
    max-width: 100% !important;
    height: calc(var(--it-player-size) - var(--it-header-size)) !important;
}


/*FIT TO WINDOW*/
html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] div#page.watch-wide #placeholder-player
{
    display: none !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] div#page.watch-wide #player
{
    width: auto !important;
    margin-bottom: 10px !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] div#page.watch-wide #player #player-api
{
    display: table !important;
    width: auto !important;
    margin: auto !important;
    left: 0 !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] div#page.watch-wide #theater-background
{
    display: none !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] div#page.watch-wide #player-mole-container
{
    height: auto !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] div#page.watch-wide #player #player-api.player-height
{
    height: auto !important;
    position: static !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] div#page.watch-wide .html5-video-player:not(.improvedtube-mini-player):not(.ytp-fullscreen)
{
    width: auto !important;
    height: auto !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] div#page.watch-wide .html5-video-player:not(.improvedtube-mini-player):not(.ytp-fullscreen) .html5-video-container
{
    position: static !important;
    width: auto !important;
    height: auto !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] div#page.watch-wide .html5-video-player:not(.improvedtube-mini-player):not(.ytp-fullscreen) video
{
    z-index: 9 !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal'])[it-player-size='fit_to_window'] div#page.watch-wide .html5-video-player:not(.improvedtube-mini-player):not(.ytp-fullscreen) .ytp-iv-video-content {
    pointer-events: none !important;
}





/*-----------------------------------------------------------------------------
>>> PLAYER ERROR
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal']) .ytp-error .ytp-tv-static
{
    width: 100% !important;
    height: 100% !important;
}





/*-----------------------------------------------------------------------------
>>> PLAYER TOOLTIP
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal']) .ytp-tooltip
{
    top: unset !important;
    bottom: 64px !important;
}





/*-----------------------------------------------------------------------------
>>> LEGACY SIDEBAR
-----------------------------------------------------------------------------*/

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal']):not([it-player-size='fit_to_window']) div#page:not(.watch-wide) #watch7-sidebar
{
    top: unset !important;

    margin-top: calc(-10px - calc(var(--it-player-size) - var(--it-header-size))) !important;
}

html[it-page-type="video"][it-player-size]:not([it-player-size='do_not_change']):not([it-player-size='normal']):not([it-player-size='fit_to_window']) div#page.watch-wide #watch-appbar-playlist
{
    top: 230px !important;
}

html[it-page-type="video"][it-player-size='fit_to_window'] div#page.watch-wide #watch-appbar-playlist
{
    top: -360px !important;
}